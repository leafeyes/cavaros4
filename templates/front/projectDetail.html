{% extends "front/nav_afterLogin.html" %}
{% block content %}
    <script type="text/javascript"
            src="http://code.jquery.com/jquery-2.0.0.min.js">
    </script>
    <style>
        .btn-file {
            position: relative;
            overflow: hidden;
            font-size: 20px;
        }
        .btn-file input[type=file] {
            position: absolute;
            top: 0;
            right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            background: red;
            cursor: inherit;
            display: block;
            font-size: 20px;
        }
        input[readonly] {
            background-color: white !important;
            cursor: text !important;
            font-size: 20px;
        }
        #btnMemberSelect .btn{
            background-color: #fff;
            color: #000;
            border-color: #ccc;
            font-family: arial;
            font-size: 16px;
        }
        #btnMemberSelect .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelect .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelect .btn.active span.glyphicon {
            opacity: 1;
        }

        #btnMemberSelect2 .btn{
            background-color: #fff;
            color: #000;
            border-color: #ccc;
            font-family: arial;
            font-size: 16px;
        }
        #btnMemberSelect2 .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelect2 .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelect2 .btn.active span.glyphicon {
            opacity: 1;
        }


        #btnMemberSelect3 .btn{
            background-color: #fff;
            color: #000;
            border-color: #ccc;
            font-family: arial;
            font-size: 16px;
        }
        #btnMemberSelect3 .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelect3 .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelect3 .btn.active span.glyphicon {
            opacity: 1;
        }

        #btnMemberSelect4 .btn{
            background-color: #fff;
            color: #000;
            border-color: #ccc;
            font-family: arial;
            font-size: 16px;
        }
        #btnMemberSelect4 .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelect4 .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelect4.btn.active span.glyphicon {
            opacity: 1;
        }
        #btnMemberSelect5 .btn{
            background-color: #fff;
            color: #000;
            border-color: #ccc;
            font-family: arial;
            font-size: 16px;
        }
        #btnMemberSelect5 .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelect5 .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelect5.btn.active span.glyphicon {
            opacity: 1;
        }
        #btnMemberSelect6 .btn{
            background-color: #fff;
            color: #000;
            border-color: #ccc;
            font-family: arial;
            font-size: 16px;
        }
        #btnMemberSelect6 .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelect6 .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelect6.btn.active span.glyphicon {
            opacity: 1;
        }

        #btnMemberSelect7 .btn{
            background-color: #fff;
            color: #000;
            border-color: #ccc;
            font-family: arial;
            font-size: 16px;
        }
        #btnMemberSelect7 .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelect7 .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelect7.btn.active span.glyphicon {
            opacity: 1;
        }


        #btnMemberSelectSection .btn.active {
            color: #fff;
            background-color: #41A317;
            font-family: arial;

        }
        #btnMemberSelectSection .btn span.glyphicon {
            opacity: 0;
        }
        #btnMemberSelectSection.btn.active span.glyphicon {
            opacity: 1;
        }
    </style>
    <script type="text/javascript">


        $(document).on('change', '.btn-file :file', function() {
            var input = $(this),
                    numFiles = input.get(0).files ? input.get(0).files.length : 1,
                    label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
            input.trigger('fileselect', [numFiles, label]);
        });

        $(document).ready( function() {
            $('.btn-file :file').on('fileselect', function(event, numFiles, label) {

                var input = $(this).parents('.input-group').find(':text'),
                        log = numFiles > 1 ? numFiles + ' files selected' : label;

                if( input.length ) {
                    input.val(log);
                } else {
                    if( log ) alert(log);
                }

            });
        });


        function reply_click(clicked_id)
        {
            $("#addMoreMember").attr("action", "/addMember2/" + clicked_id+"/");
        }
        function addSection_click(clicked_id)
        {
            $("#addMoreSection").attr("action", "/addSection2/" + clicked_id+"/");
        }

        function addTask_click(clicked_id)
        {

            $("#addMoreTask").attr("action", "/addTask/" + clicked_id+"/");
        }

        function addmTask_click(clicked_id)
        {

            $("#addMoreTaskSection").attr("action", "/addTask/" + clicked_id+"/");
        }

        function addmCheckList_click(clicked_id)
        {
            $("#addMoreCheckList").attr("action", "/addCheckList/" + clicked_id+"/");

        }
        function addmfile(clicked_id)
        {
            $("#addNewFile").attr("action", "/addFile/" + clicked_id+"/");

        }

        function addMoreMremberSection_click(clicked_id)
        {

            $("#addMoreMemberSection").attr("action", "/addMemberSection/" + clicked_id+"/");
        }
        function addMoreMremberTask_click(clicked_id)
        {

            $("#addMoreMemberTask").attr("action", "/addMemberTask/" + clicked_id+"/");
        }

        function addTasks_click(clicked_id)
        {
            $("#sectionSelectedT").attr("value", clicked_id);
        }
        function addSectionMemberMore_click(clicked_id)
        {
            $("#sectionSelectedAddmeberMore").attr("value", clicked_id);
        }
        function addTaskMemberMore_click(clicked_id,taskId)
        {
            $("#taskSelectedAddmeberMore").attr("value", clicked_id);
            $("#taskIDHide").attr("value", taskId);
        }
        function addCheckList_Click(clicked_id)
        {
            $("#TaskSelected").attr("value", clicked_id);
        }
        function addFile_Click(clicked_id)
        {
            $("#TaskSelectedFile").attr("value", clicked_id);
        }

        $(document).ready(function(){

            $('#taskIDHide').hide();
            $('#username').hide();
            var username = $('#username').val();
            $("#myProfile").click(function(){
                 $("#myProfile").attr("href", "/profiles/"+username+"/");
            });
            $("#search").keyup(function(){

                $.ajax({
                    url: "/searchProject",
                    type: "GET",
                    data:{

                        'search_text':$('#search').val()
                    },
                    success:function(result){
                        $("#results").html(result);
                    }
                });
            });
        });

        $(document).ready(function(){
            $("#search_member").keyup(function(){

                $.ajax({
                    url: "/searchMember",
                    type: "GET",
                    data:{

                        'search_text':$('#search_member').val()
                    },
                    success:function(result){
                        $("#Member_results").html(result);
                    }
                });
            });



        });
        $(document).ready(function(){
            $("#search_member2").keyup(function(){
                $.ajax({
                    url: "/search_member2",
                    type: "GET",
                    data:{

                        'search_text2':$('#search_member2').val()
                    },
                    success:function(result2){
                        $("#Member_results2").html(result2);
                    }
                });
            });
        });
        $(document).ready(function(){
            $("#search_member_section").keyup(function(){

                $.ajax({
                    url: "/search_member_section",
                    type: "GET",
                    data:{

                        'search_textSection':$('#search_member_section').val()
                    },
                    success:function(result3){
                        $("#Member_resultsSection").html(result3);
                    }
                });
            });
        });
        $(document).ready(function(){
            $("#search_member_task").keyup(function(){
                $.ajax({
                    url: "/search_member_task",
                    type: "GET",
                    data:{

                        'search_textTask':$('#search_member_task').val()
                    },
                    success:function(result4){
                        $("#Member_resultsTask").html(result4);
                    }
                });
            });
        });

    </script>
    <link href="/site_media/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="/site_media/css/search/normalize.css">
    <link rel="stylesheet" href="/site_media/css/search/stylesheet.css">
    <!--[if IE 8]><script src="js/es5.js"></script><![endif]-->
    <script src="/site_media/js/jquery.js"></script>
    <script src="/site_media/js/index.js"></script>

    <!-- --------------------------------------------- MODAL ----------------------------------------------->

    <!-- add task modal-->
    <input type="text" value="{{ USERNAME }}" id="username">
    <div class="modal fade" id="addTaskSection" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <div class="modal-body" >
                    <div class="row">
                        <div class="col-sm-8">
                            <ul class="list-group" id="taskList-left">

                                <form id="addMoreTaskSection" action="/addTaskSection/" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                    {% csrf_token %}

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> Task Information
                                    </div>
                                    <li class="list-group-item"  >
                                        Section name:
                                        <input type="text" class="form-control" value="" placeholder="section name" name="sectionSelected" id="sectionSelectedT" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item"  >
                                        Task name:
                                        <input type="text" class="form-control" placeholder="section name" name="txt_taskname" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item">
                                        Description:
                                        <input type="text" class="form-control" placeholder="Description name" name="txt_taskdesc" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item">
                                        Start date:
                                        <input type="date" id="taskStartdatepicker" placeholder="ex. 2015-01-10" class="form-control"  name="taskstart_date" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item">
                                        Due date:
                                        <input type="date" id="taskStartdatepicker" placeholder="ex. 2015-01-10" class="form-control"  name="taskend_date" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item">
                                        Member:
                                        <p id="s5"></p>
                                    </li>

                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <div class="panel panel-default" id="taskList-left">
                                <div data-spy="scroll" class="scrollspy-example" data-offset="0" data-target="#tableScroll" style="height: 350px;">

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-user" aria-hidden="true" style=" font-size: 20px;"></span> Add Memebrs
                                    </div>
                                    <div style="padding: 15px; margin-top: -10px;" >
                                        <br>
                                        <center>
                                            <div class="list-group col-sm-11" id="Member_resultsTaskSection">
                                                {% for user in PROJECTS_DETAIL.user.all %}
                                                    <div class="btn-group" data-toggle="buttons" id="btnMemberSelect5" style="margin-bottom: 5px;">

                                                        <label class="btn btn-success " id="checkboxL5"  style="width: 240px; font-family: thaisansneue; font-size: 25px;">

                                                            <input type="checkbox" class="checkboxC5" name="{{ user.username }}" id="{{ user.username }}tasksection" autocomplete="off" value="{{ user.username }}">
                                                            {{ user.username }}
                                                        </label>

                                                    </div>
                                                {% endfor %}

                                                <script>

                                                    $(document).ready(function() {
                                                        $('#btnMemberSelect5 .checkboxC5').change(function() {
                                                            var name =$(this).attr("value");

                                                            if ($(this).prop('checked')) {
                                                                var r= $('<input type="button" value="new button"/>');
                                                                $( "#s5" ).append( ' <input type="text" name= "searchmemberTask"  id= "'+name+'" class="btn btn-default" style="font-family: thaisansneue;  font-size: 26px;" value="'+name +'"/>' );
                                                            }
                                                            else {
                                                                var myBtn = document.getElementById(name),
                                                                mySpan = document.createElement("span");
                                                                mySpan.innerHTML = myBtn.innerHTML ;
                                                                myBtn.parentNode.replaceChild(mySpan, myBtn);
                                                            }
                                                        });
                                                    });
                                                </script>
                                            </div>
                                       </center>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer" >

                    <button class="btn btn-default btn-md" onClick="addmTask_click(this.id)" id="{{ PROJECTS_DETAIL.id }}"  data-toggle="modal" data-target="#addSectionT" align="right">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Task
                    </button>

                    <button type="button" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>

                </div>
                </form>
            </div>
        </div>
    </div>


    <!-- MODAL ADD MEMBER TO TASK-->
    <div class="modal fade" id="addMemberToTask" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <div class="modal-body" >
                    <div class="row">
                        <div class="col-sm-8">
                            <ul class="list-group" id="taskList-left">

                                <form id="addMoreMemberTask" action="/addTaskSection/" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                    {% csrf_token %}

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> Task Information
                                    </div>
                                    <li class="list-group-item"  >
                                        Task name:
                                        <input type="text" class="form-control" value="section name" placeholder="section name"  name="taskSelectedAddmeberMore" id="taskSelectedAddmeberMore"  style="font-family: thaisansneue; font-size: 20px;">
                                    </li>

                                    <input type="text" class="form-control" value="" placeholder="section name"  name="taskSelectedAddmeberMoreID" id="taskIDHide" required style="font-family: thaisansneue; font-size: 20px;">

                                    <li class="list-group-item">
                                        Member:
                                        <p id="s7"></p>
                                    </li>

                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <div class="panel panel-default" id="taskList-left">
                                <div data-spy="scroll" class="scrollspy-example" data-offset="0" data-target="#tableScroll" style="height: 350px;">

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-user" aria-hidden="true" style=" font-size: 20px;"></span> Add Memebrs
                                    </div>
                                    <div style="padding: 15px; margin-top: -10px;" >
                                        <br>
                                        <center>
                                            <div class="list-group col-sm-11" id="Member_resultsTaskSection3">
                                                {% for user in PROJECTS_DETAIL.user.all %}
                                                    <div class="btn-group" data-toggle="buttons" id="btnMemberSelect7" style="margin-bottom: 5px;">
                                                        <label class="btn btn-success " id="checkboxL7"  style="width: 240px; font-family: thaisansneue; font-size: 25px;">

                                                            <input type="checkbox" class="checkboxC7" name="{{ user.username }}" id="{{ user.username }}task" autocomplete="off" value="{{ user.username }}">
                                                            {{ user.username }}
                                                        </label>

                                                    </div>
                                                {% endfor %}

                                                <script>

                                                    $(document).ready(function() {
                                                        $('#btnMemberSelect7 .checkboxC7').change(function() {
                                                            var name =$(this).attr("value");

                                                            if ($(this).prop('checked')) {
                                                                var r= $('<input type="button" value="new button"/>');
                                                                $( "#s7" ).append( ' <input type="text" name= "searchmemberTaskMore"  id= "'+name+'" class="btn btn-default" style="font-family: thaisansneue;  font-size: 26px;" value="'+name +'"/>' );
                                                            }
                                                            else {
                                                                var myBtn = document.getElementById(name),
                                                                        mySpan = document.createElement("span");
                                                                mySpan.innerHTML = myBtn.innerHTML ;
                                                                myBtn.parentNode.replaceChild(mySpan, myBtn);
                                                            }
                                                        });
                                                    });
                                                </script>
                                            </div>
                                        </center>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer" >

                    <button class="btn btn-default btn-md" onClick="addMoreMremberTask_click(this.id)" id="{{PROJECTS_DETAIL.id}}"  data-toggle="modal" data-target="#addSectionT" align="right">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Section
                    </button>

                    <button type="button" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>

                </div>

                </form>
            </div>
        </div>
    </div>

    <!-- MODAL ADD MEMBER TO SECTION-->
    <div class="modal fade" id="addMemberToSection" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <div class="modal-body" >
                    <div class="row">
                        <div class="col-sm-8">
                            <ul class="list-group" id="taskList-left">

                                <form id="addMoreMemberSection" action="/addTaskSection/" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                    {% csrf_token %}

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> Add member to section
                                    </div>
                                    <li class="list-group-item"  >
                                        Section name:
                                        <input type="text" class="form-control" value="section name" placeholder="section name"  name="sectionSelectedAddmeberMore" id="sectionSelectedAddmeberMore" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>

                                    <li class="list-group-item">
                                        Member:
                                        <p id="s6"></p>
                                    </li>

                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <div class="panel panel-default" id="taskList-left">
                                <div data-spy="scroll" class="scrollspy-example" data-offset="0" data-target="#tableScroll" style="height: 350px;">

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-user" aria-hidden="true" style=" font-size: 20px;"></span> Add Memebrs
                                    </div>
                                    <div style="padding: 15px; margin-top: -10px;" >
                                        <br>
                                        <center>
                                            <div class="list-group col-sm-11" >
                                                {% for user in PROJECTS_DETAIL.user.all %}
                                                    <div class="btn-group" data-toggle="buttons" id="btnMemberSelect6" style="margin-bottom: 5px;">

                                                        <label class="btn btn-success " id="checkboxL6"  style="width: 240px; font-family: thaisansneue; font-size: 25px;">

                                                            <input type="checkbox" class="checkboxC6" name="{{ user.username }}" id="{{ user.username }}section" autocomplete="off" value="{{ user.username }}">
                                                            {{ user.username }}
                                                        </label>

                                                    </div>
                                                {% endfor %}

                                                <script>

                                                    $(document).ready(function() {
                                                        $('#btnMemberSelect6 .checkboxC6').change(function() {
                                                            var name =$(this).attr("value");

                                                            if ($(this).prop('checked')) {
                                                                var r= $('<input type="button" value="new button"/>');
                                                                $( "#s6" ).append( ' <input type="text" name= "searchmemberSectionMore"  id= "'+name+'" class="btn btn-default" style="font-family: thaisansneue;  font-size: 26px;" value="'+name +'"/>' );
                                                            }
                                                            else {
                                                                var myBtn = document.getElementById(name),
                                                                mySpan = document.createElement("span");
                                                                mySpan.innerHTML = myBtn.innerHTML ;
                                                                myBtn.parentNode.replaceChild(mySpan, myBtn);
                                                            }
                                                        });
                                                    });
                                                </script>
                                            </div>
                                        </center>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-footer" >

                    <button class="btn btn-default btn-md" onClick="addMoreMremberSection_click(this.id)" id="{{PROJECTS_DETAIL.id}}"  data-toggle="modal" data-target="#addSectionT" align="right">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add member
                    </button>

                    <span class="glyphicon glyphicon-trash"></span>
                    </button>

                </div>

                </form>
            </div>
        </div>
    </div>



    <!-- Modal Add Cecklist-->

    <div class="modal fade" id="addCheckList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <div class="modal-body" >
                    <div class="row">
                        <div class="col-sm-8">
                            <ul class="list-group" id="taskList-left">

                                <form id="addMoreCheckList" action="/addCheckList/" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                    {% csrf_token %}

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> Checklist Information
                                    </div>
                                    <li class="list-group-item"  >
                                        Task name:
                                        <input type="text" class="form-control" value="" placeholder="Task name" name="TaskSelected" id="TaskSelected" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item"  >
                                        Checklist name:
                                        <input type="text" class="form-control" placeholder="Checklist name" name="txt_checklistname" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item">
                                        Description:
                                        <input type="text" class="form-control" placeholder="Description name" name="txt_checklistdesc" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item">
                                        Due date:
                                        <input type="date" id="taskStartdatepicker" placeholder="ex. 2015-01-10" class="form-control"  name="checklistend_date" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>

                            </ul>
                        </div>

                    </div>
                </div>
                <div class="panel-footer" >

                    <button class="btn btn-default btn-md" onClick="addmCheckList_click(this.id)" id="{{ PROJECTS_DETAIL.id }}"  data-toggle="modal" data-target="#addSectionT" align="right">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Checklist
                    </button>

                    <button type="button" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>

                </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ADD FILES-->
    <div class="modal fade" id="addFile" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
        <div class="modal-dialog modal-md">
            <div class="modal-content">

                <div class="modal-body" >
                    <div class="row">
                        <div class="col-sm-12">
                            <ul class="list-group" id="taskList-left">

                                <form id="addNewFile" action="/addFile/" enctype="multipart/form-data" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                    {% csrf_token %}

                                    <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                        <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> File Information
                                    </div>
                                    <li class="list-group-item"  >
                                        Task name:
                                        <input type="text" class="form-control" value="" placeholder="Task name" name="TaskSelected" id="TaskSelectedFile" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>
                                    <li class="list-group-item"  >
                                       Select a new file:
                                        <input class="btn btn-default btn-lg" type="file" name="sentFiles" />
                                    </li>
                                    <li class="list-group-item"  >
                                        File version:
                                        <input type="text" id="" placeholder="ex. version 1.0" class="form-control"  name="fileVersion" required style="font-family: thaisansneue; font-size: 20px;">
                                    </li>


                            </ul>
                        </div>

                    </div>
                </div>
                <div class="panel-footer" >

                    <button class="btn btn-default btn-md" onClick="addmfile(this.id)" id="{{ PROJECTS_DETAIL.id }}" >
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add File
                    </button>

                    <button type="button" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>

                </div>
                </form>
            </div>
        </div>
    </div>
    <!-- ----------------------------------------------------------------------------------------------------------->

    <!-- CONTENT -->
    <div class="container white" id="main-content">

    <h3 id="thankHead" align="left">
        <b>
            <a href="/projectManagerDashboard/">
                Dashboard
            </a>
        </b> /
        <b>
            <a href="/project/{{ USERNAME }}">
                Project Management
            </a>
        </b> / {{ PROJECTS_DETAIL.project_name }}</h3>

    <br>
    <div class="row">
    <div class="col-md-9" style="padding: 10px">
    <div class="panel panel-default" style="margin-top: -10px;">
    <div class="panel-heading">
        <div class="row">

            <h4 class="panel-title" id="taskList-left" style="font-size: 26px; margin-left: 15px;"> Senior Project </h4>

        </div>
    </div>
    <div class="panel-body">
    <ul class="nav nav-tabs" role="tablist" id="myTab">
        <li class="active">
            <a href="#section" role="tab" data-toggle="tab">Sections</a>
        </li>

        <li>
            <a href="#task" role="tab" data-toggle="tab">Tasks</a>
        </li>
        <li>
            <a href="#member" role="tab" data-toggle="tab">Members</a>
        </li>

    </ul>
    <br>

    <div class="tab-content">
    <div class="tab-pane active" id="section">
    <div class="row">
        <div class="col-md-7" style="padding: 10px">
            <div class="input-group">
                <input class="form-control" type="text" placeholder="search" >
					<span class="input-group-btn">
						<button class="btn btn-default" id="buttonClick" type="button">Go!</button> </span>
            </div>
        </div>

        <div class="col-md-5" align="left" style="padding: 10px" >
            <center>

                <!-- Button trigger modal -->
                <button class="btn btn-primary btn-md" data-toggle="modal" data-target="#addSection" align="right">
                    <span class="glyphicon glyphicon-plus"  data-toggle="collapse" data-target="#newProject" aria-hidden="true"></span> New section
                </button>

                <!-- Modal -->
                <!-- add task modal-->
                <div class="modal fade" id="addSection" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">

                            <div class="modal-body" >
                                <div class="row">
                                    <div class="col-sm-8">
                                        <ul class="list-group" id="taskList-left">

                                            <form id="addMoreSection" action="/addSection/" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                                {% csrf_token %}

                                                <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                                    <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> Section Information
                                                </div>
                                                <li class="list-group-item"  >
                                                    Section name:
                                                    <input type="text" class="form-control" placeholder="section name" name="txt_sectionname" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Description:
                                                    <input type="text" class="form-control" placeholder="Description name" name="txt_sectiondesc" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Start date:
                                                    <input type="date" id="taskStartdatepicker" placeholder="ex. 2015-01-10" class="form-control"  name="sectionstart_date" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Due date:
                                                    <input type="date" id="taskStartdatepicker" placeholder="ex. 2015-01-10" class="form-control"  name="sectionend_date" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Member:
                                                    <p id="s3"></p>
                                                </li>

                                        </ul>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="panel panel-default" id="taskList-left">
                                            <div data-spy="scroll" class="scrollspy-example" data-offset="0" data-target="#tableScroll" style="height: 350px;">

                                                <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                                    <span class="glyphicon glyphicon-user" aria-hidden="true" style=" font-size: 20px;"></span> Add Memebrs

                                                </div>
                                                <div style="padding: 15px; margin-top: -10px;" >

                                                    <br>
                                                    <center>
                                                        <div class="list-group col-sm-11" id="Member_resultsSection">
                                                             {% for user in PROJECTS_DETAIL.user.all %}
                                                            <div class="btn-group" data-toggle="buttons" id="btnMemberSelect3" style="margin-bottom: 5px;">

                                                                <label class="btn btn-success " id="checkboxL3"  style="width: 240px; font-family: thaisansneue; font-size: 25px;">

                                                                    <input type="checkbox" class="checkboxC3" name="{{ user.username }}" id="{{ user.username }}" autocomplete="off" value="{{ user.username }}">
                                                                    {{ user.username }}
                                                                </label>

                                                            </div>
                                                            {% endfor %}

                                                            <script>


                                                                $(document).ready(function() {


                                                                    $('#btnMemberSelect3 .checkboxC3').change(function() {
                                                                        var name =$(this).attr("value");

                                                                        if ($(this).prop('checked')) {
                                                                            var r= $('<input type="button" value="new button"/>');
                                                                            $( "#s3" ).append( ' <input type="text" name= "searchmemberSection"  id= "'+name+'" class="btn btn-default" style="font-family: thaisansneue;  font-size: 26px;" value="'+name +'"/>' );
                                                                        }

                                                                        else {
                                                                            var myBtn = document.getElementById(name),
                                                                                    mySpan = document.createElement("span");
                                                                            mySpan.innerHTML = myBtn.innerHTML ;
                                                                            myBtn.parentNode.replaceChild(mySpan, myBtn);
                                                                        }
                                                                    });
                                                                });

                                                            </script>


                                                        </div>


                                                    </center>

                                                </div>


                                            </div>

                                        </div>

                                    </div>

                                </div>
                            </div>
                            <div class="panel-footer" >

                                <button class="btn btn-default btn-md" onClick="addSection_click(this.id)" id="{{PROJECTS_DETAIL.id}}"  data-toggle="modal" data-target="#addSectionT" align="right">
                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Section
                                </button>

                                <button type="button" class="btn btn-default btn-sm">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </button>

                            </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- -->
                <!-- -->

                <button class="btn btn-danger" type="button" align="right">
                    - Delete section
                </button>
            </center>
        </div>
    </div>
    <br>
    <ul class="list-group" >
        {% for section in PROJECTS_DETAIL.sections_set.all %}
            <br>
            <li class="list-group-item" style="background: #F4F4F4; ">

                <div class="row">
                    <div class="col-xs-6" >

                        <h4><a id="toggle" class="toggleArrow" data-toggle="collapse" data-parent="#accordion" href="#{{ section.sections_name }}info" style="font-size: 10px; color: #C0A16Bc;"> <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span> </a>&nbsp;&nbsp; Section : <a data-toggle="collapse" data-parent="#accordion" href="#{{ section.sections_name }}info"> {{ section.sections_name }} </a> &nbsp;&nbsp;&nbsp;&nbsp; </h4>

                    </div>
                    <div class="col-xs-5" >
                        <a href=""><h4 align="right" > 0% </h4></a>
                    </div>
                    <div class="col-xs-1" style="margin-left:0px; margin-top: 10px;">
                        <a id="toggle" class="toggleArrow" data-toggle="collapse" data-parent="#accordion" href="#{{ section.sections_name }}{{ section.id }}">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true" style="color: #8A8A8A;" ></span>
                        </a>

                    </div>
                </div>

                <div class="progress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;" align="center">

                    </div>
                </div>

            </li>
            <li class="list-group-item" id="taskList-left" style="background: #;">
                Description: {{ section.description  }}
            </li>
            <li class="list-group-item" id="taskList-left" style="background: #;">
                <div class="row">
                    <div class="col-md-9">
                        Member:
                        {% for user in section.user.all %}

                                    <a href="#">{{ user.username }}</a>,

                        {% endfor %}
                    </div>
                    <div class="col-md-3">
                        <div id="{{ section.sections_name }}{{ section.id }}" class="panel-collapse collapse" >

                            <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#addMemberToSection" onClick="addSectionMemberMore_click(this.id)" id="{{section.sections_name}}"  align="right">
                                <span class="glyphicon glyphicon-plus"></span> <span class="glyphicon glyphicon-user"></span>
                            </button>
                            <!-- Button trigger modal -->
                            <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#addTaskSection" onClick="addTasks_click(this.id)" id="{{section.sections_name}}"  align="right">
                                <span class="glyphicon glyphicon-plus"  data-toggle="collapse" data-target="#newProject" aria-hidden="true"></span> <span class="glyphicon glyphicon-tasks"  data-toggle="collapse" data-target="#newProject" aria-hidden="true"></span>
                            </button>
                            <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#addTaskSection" onClick="addTasks_click(this.id)" id="{{section.sections_name}}"  align="right">
                                <span class="glyphicon glyphicon-minus"  data-toggle="collapse" data-target="#newProject" aria-hidden="true"></span> <span class="glyphicon glyphicon-tasks"  data-toggle="collapse" data-target="#newProject" aria-hidden="true"></span>
                            </button>



                        </div>
                    </div>
                </div>
                <div class="row" align="left">

                    <div class="col-md-4" >
                        Due date: {{ section.end_date }}

                    </div>
                    <div class="col-md-8" >
                        <div class="row">
                            <div class="col-xs-4" align="left" style="width: 160px;">
                                Remaining time:
                            </div>
                            <div class="col-xs-6" align="left">
                                <div id="countbox" style="font-size: 20px; margin-top: 2px;"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </li>



            <div id="{{ section.sections_name }}info" class="panel-collapse collapse">
                <ul class="list-group" >


                    <li class="list-group-item" style="background: #fff;">
                        <div class="row" id="taskList-left" align="center">
                            <div class="col-md-3"align="center" >

                                <div class="panel panel-default" style="background-color: #F0F0F0">
                                    Create date
                                </div>
                                <div class="panel panel-default" style="margin-top: -25px;">
                                    {{ section.create_date }}
                                </div>

                            </div>

                            <div class="col-md-3"align="center"  style="margin-left: -25px;">

                                <div class="panel panel-default"  style="background-color: #F0F0F0">
                                    Start date
                                </div>
                                <div class="panel panel-default" style="margin-top: -25px;">
                                    {{ section.start_date }}

                                </div>

                            </div>
                            <div class="col-md-3"align="center"  style="margin-left: -25px;">

                                <div class="panel panel-default"  style="background-color: #F0F0F0">
                                    End date
                                </div>
                                <div class="panel panel-default" style="margin-top: -25px;">
                                    {{ section.start_date }}
                                </div>

                            </div>


                        </div>
                    </li>

                    <li class="list-group-item" data-toggle="collapse" data-target="#alltaskInfo1" style="margin-top: 0px; background-color: #f4f4f4">
                        <div class="row"  >
                            <div class="col-xs-6" id="taskList-left">
                                Task
                            </div>
                            <div class="col-xs-2" id="taskList-left"  >
                                Due date
                            </div>


                            <div class="col-xs-2" align="center" id="taskList-left">
                                Status
                            </div>
                            <div class="col-xs-2" align="center" id="taskList-left">

                            </div>

                        </div>
                    </li>
                    {% for task in section.tasks_set.all %}
                        <li class="list-group-item" data-toggle="collapse" data-target="#{{ task.tasks_name }}{{ task.id }}t" style="margin-top: 0px;">
                            <div class="row"  >
                                <div class="col-xs-6" id="taskList-left">
                                    {{ task.tasks_name }}

                                </div>
                                <div class="col-xs-2" id="taskList-left"  style="font-size: 20px;">
                                    {{ task.end_date }}
                                </div>

                                <div class="col-xs-2" align="center" id="taskList-right">
                                    <span class="label label-default">in progress</span>
                                </div>


                            </div>
                            <hr style="margin-top: 2px;">
                            <div  id="taskList-left" style="margin-top: -15px;">
                                Member :
                                {% for user in task.user.all %}

                                        <a href="#">{{ user.username }}</a>,
                                    {% endfor %}

                            </div>
                        </li>

                    {% endfor %}


                </ul>
            </div>


        {% endfor %}

    </ul>

    </div>
    <!-- TASK TAB-->
    <div class="tab-pane" id="task">
    <div class="row">
        <div class="col-md-5" style="padding: 10px">
            <div class="input-group">
                <input class="form-control" type="text" placeholder="search" >
												<span class="input-group-btn">
													<button class="btn btn-default" id="buttonClick" type="button">
                                                        Go!
                                                    </button> </span>
            </div>
        </div>
        <div class="col-md-2" style="padding: 10px">

        </div>
        <div class="col-md-5" align="left" style="padding: 10px" >
            <center>

                <!-- Button trigger modal -->
                <button class="btn btn-primary btn-md" data-toggle="modal" data-target="#addTask" align="right">
                    <span class="glyphicon glyphicon-plus"  data-toggle="collapse" data-target="#newProject" aria-hidden="true"></span> New task
                </button>

                <!-- Modal -->
                <!-- add task modal-->
                <div class="modal fade" id="addTask" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">

                            <div class="modal-body" >
                                <div class="row">
                                    <div class="col-sm-8">
                                        <ul class="list-group" id="taskList-left">

                                            <form id="addMoreTask" action="/addSection/" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                                {% csrf_token %}

                                                <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                                    <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> Task Information
                                                </div>
                                                <li class="list-group-item">
                                                    Section:
                                                    <p id="sectionSelect"></p>
                                                </li>
                                                <li class="list-group-item"  >
                                                    Task name:
                                                    <input type="text" class="form-control" placeholder="section name" name="txt_taskname" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Description:
                                                    <input type="text" class="form-control" placeholder="Description name" name="txt_taskdesc" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Start date:
                                                    <input type="date" id="taskStartdatepicker" placeholder="ex. 2015-01-10" class="form-control"  name="taskstart_date" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Due date:
                                                    <input type="date" id="taskStartdatepicker" placeholder="ex. 2015-01-10" class="form-control"  name="taskend_date" required style="font-family: thaisansneue; font-size: 20px;">
                                                </li>
                                                <li class="list-group-item">
                                                    Member:
                                                    <p id="s4"></p>
                                                </li>

                                        </ul>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="panel panel-default" id="taskList-left">


                                            <div data-spy="scroll" class="scrollspy-example" data-offset="0" data-target="#tableScroll" style="height: 350px;">

                                                <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                                    <span class="glyphicon glyphicon-th-list" aria-hidden="true" style=" font-size: 20px;"></span> Add Section

                                                </div>
                                                <div style="padding: 15px; margin-top: -10px;" >

                                                    <br>
                                                    <center>
                                                        <div class="list-group col-sm-11" id="Section_resultsTask">
                                                            {% for section in PROJECTS_DETAIL.sections_set.all  %}

                                                                <div class="btn-group" data-toggle="buttons" id="btnMemberSelectSection" style="margin-bottom: 5px;">

                                                                    <label class="btn btn-success " id="checkboxL"  style="width: 240px; font-family: thaisansneue; font-size: 25px;">

                                                                        <input type="checkbox" class="checkboxCSection" name="{{ section.sections_name }}" id="{{ section.sections_name }}" autocomplete="off" value="{{ section.sections_name }}">
                                                                        {{ section.sections_name }}
                                                                    </label>

                                                                </div>
                                                            {% endfor %}

                                                            <script>


                                                                $(document).ready(function() {


                                                                    $('#btnMemberSelectSection .checkboxCSection').change(function() {
                                                                        var name =$(this).attr("value");

                                                                        if ($(this).prop('checked')) {
                                                                            var r= $('<input type="button" value="new button"/>');
                                                                            $( "#sectionSelect" ).append( ' <input type="text" name= "sectionSelected"  id= "'+name+'" class="btn btn-default" style="font-family: thaisansneue;  font-size: 26px;" value="'+name +'"/>' );
                                                                        }

                                                                        else {
                                                                            var myBtn = document.getElementById(name),
                                                                                    mySpan = document.createElement("span");
                                                                            mySpan.innerHTML = myBtn.innerHTML ;
                                                                            myBtn.parentNode.replaceChild(mySpan, myBtn);
                                                                        }
                                                                    });
                                                                });

                                                            </script>


                                                        </div>


                                                    </center>

                                                </div>


                                            </div>
                                            <div data-spy="scroll" class="scrollspy-example" data-offset="0" data-target="#tableScroll" style="height: 350px;">

                                                <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                                    <span class="glyphicon glyphicon-user" aria-hidden="true" style=" font-size: 20px;"></span> Add Memebrs

                                                </div>
                                                <div style="padding: 15px; margin-top: -10px;" >

                                                    <br>
                                                    <center>
                                                        <div class="list-group col-sm-11" id="Member_resultsTask">
                                                            {% for user in PROJECTS_DETAIL.user.all %}
                                                                <div class="btn-group" data-toggle="buttons" id="btnMemberSelect4" style="margin-bottom: 5px;">

                                                                    <label class="btn btn-success " id="checkboxL4"  style="width: 240px; font-family: thaisansneue; font-size: 25px;">

                                                                        <input type="checkbox" class="checkboxC4" name="{{ user.username }}" id="{{ user.username }}" autocomplete="off" value="{{ user.username }}">
                                                                        {{ user.username }}
                                                                    </label>

                                                                </div>
                                                            {% endfor %}

                                                            <script>


                                                                $(document).ready(function() {


                                                                    $('#btnMemberSelect4 .checkboxC4').change(function() {
                                                                        var name =$(this).attr("value");

                                                                        if ($(this).prop('checked')) {
                                                                            var r= $('<input type="button" value="new button"/>');
                                                                            $( "#s4" ).append( ' <input type="text" name= "searchmemberTask"  id= "'+name+'" class="btn btn-default" style="font-family: thaisansneue;  font-size: 26px;" value="'+name +'"/>' );
                                                                        }

                                                                        else {
                                                                            var myBtn = document.getElementById(name),
                                                                                    mySpan = document.createElement("span");
                                                                            mySpan.innerHTML = myBtn.innerHTML ;
                                                                            myBtn.parentNode.replaceChild(mySpan, myBtn);
                                                                        }
                                                                    });
                                                                });

                                                            </script>


                                                        </div>


                                                    </center>

                                                </div>


                                            </div>

                                        </div>

                                    </div>

                                </div>
                            </div>
                            <div class="panel-footer" >

                                <button class="btn btn-default btn-md" onClick="addTask_click(this.id)" id="{{ PROJECTS_DETAIL.id }}"  data-toggle="modal" data-target="#addSectionT" align="right">
                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Task
                                </button>

                                <button type="button" class="btn btn-default btn-sm">
                                    <span class="glyphicon glyphicon-trash"></span>
                                </button>

                            </div>
                            </form>
                        </div>
                    </div>
                </div>


                <!-- -->

                <!-- -->

                <button class="btn btn-danger" type="button" align="right">
                    - Delete task
                </button>
            </center>
        </div>
    </div>
    <br>
    <ul class="list-group" >
    {% for section in PROJECTS_DETAIL.sections_set.all %}
        {% for task in section.tasks_set.all %}
            <br>
            <li class="list-group-item" style="background: #F4F4F4; ">

                <div class="row">
                    <div class="col-xs-6" >

                        <h4><a id="toggle" class="toggleArrow" data-toggle="collapse" data-parent="#accordion" href="#{{ task.id }}{{ task.name }}tall" style="font-size: 10px; color:#C0A16Bc;">  <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span> </a>&nbsp;&nbsp; Task : <a data-toggle="collapse" data-parent="#accordion" href="#{{ task.id }}{{ task.name }}tall"> {{ task.tasks_name }} </a> &nbsp;&nbsp;&nbsp;&nbsp; </h4>

                    </div>
                    <div class="col-xs-5" >
                        <a href=""><h4 align="right" > 80% </h4></a>
                    </div>
                    <div class="col-xs-1" style="margin-left:0px; margin-top: 10px;">
                        <a id="toggle" class="toggleArrow" data-toggle="collapse" data-parent="#accordion" href="#{{ task.id }}{{ task.name }}edit">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true" style="color: #8A8A8A;" ></span>
                        </a>

                    </div>
                </div>

                <div class="progress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 80%;" align="center">

                    </div>
                </div>

            </li>
            <li class="list-group-item" id="taskList-left">
                Section: {{ section.sections_name }}
                <br>
                Description: {{ task.description }}
            </li>
            <li class="list-group-item" id="taskList-left" style="background: #;">
                <div class="row">
                    <div class="col-md-9">
                        Member:
                        {% for user in task.user.all %}
                            <a href="#">{{ user.username }}</a>,
                        {% endfor %}
                    </div>
                    <div class="col-md-3">
                        <div id="{{ task.id }}{{ task.name }}edit" class="panel-collapse collapse" >

                            <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#addMemberToTask" onClick="addTaskMemberMore_click(this.id,{{ task.id }})" id="{{task.tasks_name}}"  align="right">
                                <span class="glyphicon glyphicon-plus"></span> <span class="glyphicon glyphicon-user"></span>
                            </button>


                        </div>
                    </div>

                </div>
                <div class="row" align="left">

                    <div class="col-md-4" >
                        Due date: {{ task.end_date }}

                    </div>
                    <div class="col-md-8" >
                        <div class="row">
                            <div class="col-xs-4" align="left" style="width: 160px;">
                                Remaining time:
                            </div>
                            <div class="col-xs-6" align="left">
                                <div id="countbox1" style="font-size: 20px; margin-top: 2px;"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </li>

            <div id="{{ task.id }}{{ task.name }}tall" class="panel-collapse  collapse" style="margin-top: -5px;">
            <ul class="list-group" id="taskList-left">

            <li class="list-group-item" style="background: #fff;">
                <div class="row" id="taskList-left" align="center">
                    <div class="col-md-3"align="center" >

                        <div class="panel panel-default" style="background-color: #F0F0F0">
                            Create date
                        </div>
                        <div class="panel panel-default" style="margin-top: -25px;">
                            {{ task.create_date }}
                        </div>

                    </div>

                    <div class="col-md-3"align="center"  style="margin-left: -25px;">

                        <div class="panel panel-default"  style="background-color: #F0F0F0">
                            Start date
                        </div>
                        <div class="panel panel-default" style="margin-top: -25px;">
                            {{ task.start_date }}
                        </div>

                    </div>
                    <div class="col-md-3"align="center"  style="margin-left: -25px;">

                        <div class="panel panel-default"  style="background-color: #F0F0F0">
                            End date
                        </div>
                        <div class="panel panel-default" style="margin-top: -25px;">
                            {{ task.create_date }}
                        </div>

                    </div>


                </div>
            </li>
            <li class="list-group-item" style="background: #F4F4F4;   ">
                <div class="row">
                    <div class="col-md-9">
                        Task files
                    </div>
                    <div class="col-md-3" align="right">

                        <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#addFile" onClick="addFile_Click(this.id)" id="{{task.tasks_name}}"  align="right">
                            <span class="glyphicon glyphicon-plus"></span> <span class="  glyphicon glyphicon-file"></span>
                        </button>


                    </div>
                </div>
            </li>
            </li>
            <li class="list-group-item" style="background: #FFF;   ">

                <center>
                <table class="table">
                    <thead>
                    <tr style="font-size: 18px;">
                        <th>file type</th>
                        <th>file name</th>
                        <th>date modified</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td scope="row"><img src="/site_media/img/word_icon.png" class="img-responsive" width="30"></td>
                        <td> <a href="#"  data-toggle="modal" data-target="#myModal9"  >diagram.docx</a></td>
                        <td>2015 01 10</td>

                    </tr>
                    <tr >
                        <td scope="row"><img src="/site_media/img/word_icon.png" class="img-responsive" width="30"></td>
                        <td> <a href="#"  data-toggle="modal" data-target="#myModal9"  >diagram.docx</a></td>
                        <td>2015 01 10</td>

                    </tr>

                    </tbody>
                </table>
                </center>
            </li>

            <li class="list-group-item" style="background: #F4F4F4;   ">
                <div class="row">
                    <div class="col-md-9">
                    Task check list
                    </div>
                    <div class="col-md-3" align="right">

                        <button class="btn btn-default btn-sm" data-toggle="modal" data-target="#addCheckList" onClick="addCheckList_Click(this.id)" id="{{task.tasks_name}}"  align="right">
                            <span class="glyphicon glyphicon-plus"></span> <span class=" glyphicon glyphicon-th-list"></span>
                        </button>


                    </div>
                </div>
            </li>



                <li class="list-group-item" style="background: #; ">
                    {% for checklist in task.checklists_set.all %}
                        <div class="panel panel-default" align="left" style="margin-top: 10px; padding: 10px;">
                            <div class="row" style="background-color: #;  border-radius: 6px;" align="left">
                                <div class="col-md-10" style="background-color: ; margin-top: 0px;" align="left">
                                    <input type="checkbox" class="checkbox large" >

                                    {{ forloop.counter }}. {{ checklist.checklist_name }}
                                    <br>
                                    {{ checklist.description }}
                                </div>
                                <div class="col-md-2" align="center" style="background-color: #; margin-top:10px; font-size: 20px;">

                                    <div class="panel panel-default"  style="background-color: #F0F0F0">
                                        End date
                                    </div>
                                    <div class="panel panel-default" style="margin-top: -25px;">
                                        {{ checklist.end_date }}
                                    </div>

                                </div>

                            </div>


                        </div>
                    {% endfor %}
                </li>


            <!-- Modal -->
            <div class="modal fade" id="myModal9" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                            </button>
                            <h2 class="modal-title" id="myModalLabel">usecaseNarrative.docx</h2>
                        </div>
                        <div class="modal-body" >
                            <div class="row">
                                <div class="col-md-6">

                                    <div class="panel panel-default" align="center" id="taskList-left">
                                        <div class="panel-heading">
                                            Current version
                                        </div>

                                        <div class="panel-body	" align="center">

                                            <img src="site_media/img/file.jpg" width="200" class="img-responsive">

                                            usecaseNarrative.docx
                                            <br>
                                            <small> version 1.0  | date modified: 01/01/14 15:32:10</small>

                                        </div>

                                        <div class="panel-footer">
                                            <button type="button" class="btn btn-default btn-sm">
                                                <span class="glyphicon glyphicon-save"></span>
                                            </button>

                                            <button type="button" class="btn btn-default btn-sm">
                                                <span class="glyphicon glyphicon-link"></span>
                                            </button>

                                            <button type="button" class="btn btn-default btn-sm">
                                                <span class="glyphicon glyphicon-pencil"></span>
                                            </button>
                                            <button type="button" class="btn btn-default btn-sm">
                                                <span class="glyphicon glyphicon-trash"></span>
                                            </button>
                                        </div>

                                    </div>
                                    <div class="panel panel-default" style="background-color: #f4f4f4;" >

                                        <ul class="list-group" id="taskList-left">

                                            <li class="list-group-item" style="background: #fff;">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        Sirachat
                                                    </div>
                                                    <div class="col-xs-9">
                                                        I want the soap services and also the exsample of how it work.

                                                        PS. please add any service that you may want to call inside the main method.
                                                    </div>
                                                </div>
                                                <small>01/01/14 15:32:10</small>
                                            </li>
                                            <li class="list-group-item" style="background: #fff;">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        Sirachat
                                                    </div>
                                                    <div class="col-xs-9">
                                                        I want the soap services and also the exsample of how it work.

                                                        PS. please add any service that you may want to call inside the main method.
                                                    </div>
                                                </div>
                                                <small>01/01/14 15:32:10</small>
                                            </li>
                                            <li class="list-group-item" style="background: #fff;">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        Sirachat
                                                    </div>
                                                    <div class="col-xs-9">
                                                        I want the soap services and also the exsample of how it work.

                                                        PS. please add any service that you may want to call inside the main method.
                                                    </div>
                                                </div>
                                                <small>01/01/14 15:32:10</small>
                                            </li>

                                            <li class="list-group-item" style="background: #f4f4f4;">
                                                <div class="row">
                                                    <div class="col-md-8">
                                                        <input class="form-control" type="text"  >
                                                    </div>
                                                    <div class="col-md-2">
                                                        <button class="btn btn-default" id="buttonClick" type="button">
                                                            comment
                                                        </button>
                                                    </div>
                                                </div>

                                            </li>

                                        </ul>

                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="panel panel-default" id="taskList-left">
                                        <div class="panel-heading">
                                            Historical version
                                        </div>
                                        <div class="list-group">


                                            <a href="#downloadToggle"  data-toggle="collapse" data-parent="#accordion"  class="list-group-item">
                                                <div class="row">
                                                    <div class="col-xs-10">
                                                        usecaseNarrative.docx
                                                        <br>
                                                        <small> version 1.0  | date modified: 01/01/14 15:32:10
                                                            <br>
                                                            responsibility: Sirachat</small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                    </div>
                                                    <div class="col-xs-2" >
                                                        <div id="downloadToggle"  align="center" class="panel-collapse collapse">
                                                            <button type="button" class="btn btn-default btn-sm">
                                                                <span class="glyphicon glyphicon-save"></span>
                                                            </button>
                                                            <br>
                                                            <button type="button" class="btn btn-default btn-sm">
                                                                <span class="glyphicon glyphicon-link"></span>
                                                            </button>
                                                            <br>
                                                            <button type="button" class="btn btn-default btn-sm">
                                                                <span class="glyphicon glyphicon-pencil"></span>
                                                            </button>
                                                            <button type="button" class="btn btn-default btn-sm">
                                                                <span class="glyphicon glyphicon-trash"></span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div> </a>



                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>

            </ul>
            </div>
        {% endfor %}
    {% endfor %}

    </ul>

    </div>

    <div class="tab-pane" id="member">
    <div class="row">
        <div class="col-md-7" style="padding: 10px">
            <div class="input-group">
                <input class="form-control" type="text" placeholder="search" >
												<span class="input-group-btn">
													<button class="btn btn-default" id="buttonClick" type="button">
                                                        Go!
                                                    </button> </span>
            </div>
        </div>

        <div class="col-md-5" align="left" style="padding: 10px" >
            <center>
                <!-- Button trigger modal -->
                <button class="btn btn-primary btn-md" data-toggle="modal" data-target="#addMember" align="right">
                    <span class="glyphicon glyphicon-plus"  data-toggle="collapse" data-target="#newProject" aria-hidden="true"></span> New member
                </button>

                <!-- add more modal -->
                <div class="modal fade" id="addMember" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
                    <div class="modal-dialog modal-md">
                        <div class="modal-content">

                            <div class="modal-body" >
                                <div class="panel panel-default" id="taskList-left">
                                    <div data-spy="scroll" class="scrollspy-example" data-offset="0" data-target="#tableScroll" style="height: 300px;">

                                        <div class="panel-heading" style="font-family: thaisansneue; font-size: 25px;">
                                            <span class="glyphicon glyphicon-user" aria-hidden="true" style=" font-size: 20px;"></span> Add Memebrs
                                        </div>
                                        <div style="padding: 15px;" >
                                            <div class="input-group ">

                                                <input class="form-control" type="text" id="search_member2" name="search_member2"  placeholder="search members" style="font-family: thaisansneue; font-size: 20px;" >
                                            <span class="input-group-btn">
                                                <button class="btn btn-default" id="buttonClick" type="submit">
                                                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                                                </button>
                                            </span>

                                            </div>
                                            <br>

                                            <div class="list-group col-sm-11" id="Member_results2">


                                            </div>

                                        </div>



                                    </div>

                                    <form id="addMoreMember" action="/addMember2/{{ PROJECTS_DETAIL.id }}/" method="post" style="font-family: thaisansneue; font-size: 25px;" >
                                        {% csrf_token %}
                                        <div style="padding: 15px; margin-top: -20px;" >
                                            Member: <p id="s2"></p>
                                        </div>

                                </div>
                            </div>
                            <div class="modal-footer">

                                <button type="submit" class="btn btn-primary">
                                    Add
                                </button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">
                                    Cancel
                                </button>
                            </div>

                            </form>
                        </div>
                    </div>
                </div>
                <!-- -->


                <!-- -->

                <button class="btn btn-danger" type="button" align="right">
                    - Delete member
            </center>
        </div>
    </div>
    <br>

    <ul class="list-group"  style="font-size:20px;">
    {% for user in PROJECTS_DETAIL.user.all %}

        <br>

                <li class="list-group-item" style="background: #F4F4F4; ">

                    <div class="row">
                        <div class="col-xs-6" >

                            <a id="toggle" class="toggleArrow" data-toggle="collapse" data-parent="#accordion" href="#member1" style="font-size: 10px; color: #C0A16Bc"> <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span> </a>&nbsp;&nbsp;
                            Member :
                            <a data-toggle="collapse" data-parent="#accordion" href="#member1"> {{ user.username }} </a>
                            &nbsp;&nbsp;&nbsp;&nbsp;
                            <a data-toggle="collapse" data-parent="#accordion" href="#member1" style="font-size: 14px; color: #6e6e6e;" id="edit" onclick="document.getElementById('edit').innerHTML = '[ save ]'"></a>

                        </div>

                    </div>

                </li>
                <li class="list-group-item" id="taskList-left" style="background: #;">
                    Position:
                    {% for group in user.groups.all %}
                        {% if group.name == "Project Manager" and user.id == USERID%}
                            {{ group.name }}
                        {% endif %}
                        {% if group.name == "Team Member" and user.id != USERID %}
                            {{ group.name }}
                        {% endif %}

                    {% endfor %}
                    <br>
                    <br>
                </li>

                <div id="member1" class="panel-collapse  collapse" >
                    <ul class="list-group" id="taskList-left">
                        <li class="list-group-item" data-toggle="collapse" data-target="#" style="margin-top: 0px; background-color: #f4f4f4">
                            <div class="row"  >
                                <div class="col-xs-6" id="taskList-left">
                                    Task
                                </div>
                                <div class="col-xs-2" id="taskList-left"  >
                                    Due date
                                </div>
                                <div class="col-xs-2" id="taskList-left"  >
                                    Last update
                                </div>

                                <div class="col-xs-2" align="center" id="taskList-left">
                                    Status
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item" data-toggle="collapse" data-target="#membertask1" style="margin-top: 0px;">
                            <div class="row"  >
                                <div class="col-xs-6" id="taskList-left">
                                    Use case narrative

                                </div>
                                <div class="col-xs-2" id="taskList-left"  style="font-size: 20px;">
                                    02/02/14 18:11:10
                                </div>
                                <div class="col-xs-2" id="taskList-left"  style="font-size: 20px;">
                                    02/02/14 18:11:10
                                </div>

                                <div class="col-xs-2" align="center" id="taskList-right">
                                    <span class="label label-primary">Done</span>
                                </div>
                            </div>
                        </li>
                        <div id="membertask1" class="panel-collapse  collapse" style="margin-top: -5px;">
                            <ul class="list-group" id="taskList-left">
                                <li class="list-group-item" style="background: #F4F4F4; " id="taskList-left">
                                    Description
                                </li>

                                <li class="list-group-item" id="taskList-left">
                                    Documentary Film is a broad category of visual expression that is based on the attempt, in one fashion or another, to document reality.
                                </li>

                                <li class="list-group-item" style="background: #; ">
                                    Section: Document
                                </li>
                                <li class="list-group-item" style="background: #F4F4F4;   ">
                                    Task check list
                                </li>
                                <li class="list-group-item" style="background: #; ">

                                    <div class="panel panel-default" align="left" style="margin-top: 10px; padding: 10px;">
                                        <div class="row" style="background-color: #;  border-radius: 6px;" align="left">
                                            <div class="col-md-10" style="background-color: ; margin-top: 0px;" align="left">
                                                <input type="checkbox" class="checkbox large" >

                                                1. Register at BitBucket.org (http://www.bitbucket.org). Please using your MU email ( @student.mahidol.ac.th or @student.mahidol.edu ) in registration because you will get Unlimited Plan automatically (Unlimited members per team).
                                            </div>
                                            <div class="col-md-2" align="center" style="background-color: #; margin-top:10px; font-size: 20px;">

                                                <div class="panel panel-default"  style="background-color: #F0F0F0">
                                                    Due date
                                                </div>
                                                <div class="panel panel-default" style="margin-top: -25px;">
                                                    01/01/14
                                                </div>

                                            </div>

                                        </div>

                                        <hr>
                                        Task files :

                                        <button class="btn btn-default" id="buttonClick" type="button" data-toggle="modal" data-target="#myModal9" style="font-family: 'arial'; background-color: #E6E6E6">
                                            diagram.docx
                                        </button>
                                        <button class="btn btn-default" id="buttonClick" type="button" data-toggle="modal" data-target="#myModal9" style="font-family: 'arial'; background-color: #E6E6E6">
                                            diagram.docx
                                        </button>
                                        <button class="btn btn-default" id="buttonClick" type="button" data-toggle="modal" data-target="#myModal9" style="font-family: 'arial'; background-color: #E6E6E6">
                                            usecaseNarrative.docx
                                        </button>
                                    </div>

                                    <div class="panel panel-default" align="left" style="margin-top: 10px; padding: 10px;">
                                        <div class="row" style="background-color: #;  border-radius: 6px;" align="left">
                                            <div class="col-md-10" style="background-color: ; margin-top: 0px;" align="left">
                                                <input type="checkbox" class="checkbox large" >

                                                2. Connect your Aptana IDE with your BitBucket account by following this tutorial: http://nealbuerger.com/2013/11/aptana-eclipse-set-up-git-repository-github-bitbucket/
                                            </div>
                                            <div class="col-md-2" align="center" style="background-color: #; margin-top:10px; font-size: 20px;">

                                                <div class="panel panel-default"  style="background-color: #F0F0F0">
                                                    End date
                                                </div>
                                                <div class="panel panel-default" style="margin-top: -25px;">
                                                    01/01/14
                                                </div>

                                            </div>

                                        </div>

                                        <hr>
                                        Task files :

                                        <button class="btn btn-default" id="buttonClick" type="button" data-toggle="modal" data-target="#myModal9" style="font-family: 'arial'; background-color: #E6E6E6">
                                            diagram.docx
                                        </button>
                                        <button class="btn btn-default" id="buttonClick" type="button" data-toggle="modal" data-target="#myModal9" style="font-family: 'arial'; background-color: #E6E6E6">
                                            diagram.docx
                                        </button>
                                        <button class="btn btn-default" id="buttonClick" type="button" data-toggle="modal" data-target="#myModal9" style="font-family: 'arial'; background-color: #E6E6E6">
                                            usecaseNarrative.docx
                                        </button>
                                    </div>

                                </li>

                                <!-- Modal -->
                                <div class="modal fade" id="myModal9" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"align="left">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal">
                                                    <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                                                </button>
                                                <h2 class="modal-title" id="myModalLabel">usecaseNarrative.docx</h2>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </ul>
                        </div>

                        <li class="list-group-item" data-toggle="collapse" data-target="#" style="margin-top: 0px;">
                            <div class="row"  >
                                <div class="col-xs-6" id="taskList-left">
                                    Use case narrative

                                </div>
                                <div class="col-xs-2" id="taskList-left"  style="font-size: 20px;">
                                    02/02/14 18:11:10
                                </div>
                                <div class="col-xs-2" id="taskList-left"  style="font-size: 20px;">
                                    02/02/14 18:11:10
                                </div>

                                <div class="col-xs-2" align="center" id="taskList-right">
                                    <span class="label label-default">in progress</span>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item" data-toggle="collapse" data-target="#" style="margin-top: 0px;">
                            <div class="row"  >
                                <div class="col-xs-6" id="taskList-left">
                                    Use case narrative

                                </div>
                                <div class="col-xs-2" id="taskList-left"  style="font-size: 20px;">
                                    02/02/14 18:11:10
                                </div>
                                <div class="col-xs-2" id="taskList-left"  style="font-size: 20px;">
                                    02/02/14 18:11:10
                                </div>

                                <div class="col-xs-2" align="center" id="taskList-right">
                                    <span class="label label-danger">out of date</span>
                                </div>
                            </div>
                        </li>

                        <!-- Modal -->

                    </ul>

                </div>



    {% endfor %}
    </ul>


    </div>

    </div>
    </div>
    </div>
    </div>
    <div class="col-md-3" >
        <div class="panel panel-default" id="taskList-left">
            <div class="panel-heading">
                Activity Log
            </div>
            <div class="panel-body">

            </div>

        </div>
    </div>
    </div>


    <script type="text/javascript">
        //###################################################################
        // Author: ricocheting.com
        // Version: v3.0
        // Date: 2014-09-05
        // Description: displays the amount of time until the "dateFuture" entered below.

        var CDown = function() {
            this.state = 0;
            // if initialized
            this.counts = [];
            // array holding countdown date objects and id to print to {d:new Date(2013,11,18,18,54,36), id:"countbox1"}
            this.interval = null;
            // setInterval object
        }

        CDown.prototype = {
            init : function() {
                this.state = 1;
                var self = this;
                this.interval = window.setInterval(function() {
                    self.tick();
                }, 1000);
            },
            add : function(date, id) {
                this.counts.push({
                    d : date,
                    id : id
                });
                this.tick();
                if (this.state == 0)
                    this.init();
            },
            expire : function(idxs) {
                for (var x in idxs) {
                    this.display(this.counts[idxs[x]], "OUT OF DATE");
                    this.counts.splice(idxs[x], 1);
                }
            },
            format : function(r) {
                var out = "";
                if (r.d != 0) {
                    out += r.d + " " + ((r.d == 1) ? "day" : "days") + " / ";
                }
                if (r.h != 0) {
                    out += r.h + " " + ((r.h == 1) ? "hour" : "hrs") + ": ";
                }
                out += r.m + " " + ((r.m == 1) ? "min" : "min") + ": ";
                out += r.s + " " + ((r.s == 1) ? "sec" : "sec") + ": ";

                return out.substr(0, out.length - 2);
            },
            math : function(work) {
                var y = w = d = h = m = s = ms = 0;

                ms = ("" + ((work % 1000) + 1000)).substr(1, 3);
                work = Math.floor(work / 1000);
                //kill the "milliseconds" so just secs

                y = Math.floor(work / 31536000);
                //years (no leapyear support)
                w = Math.floor(work / 604800);
                //weeks
                d = Math.floor(work / 86400);
                //days
                work = work % 86400;

                h = Math.floor(work / 3600);
                //hours
                work = work % 3600;

                m = Math.floor(work / 60);
                //minutes
                work = work % 60;

                s = Math.floor(work);
                //seconds

                return {
                    y : y,
                    w : w,
                    d : d,
                    h : h,
                    m : m,
                    s : s,
                    ms : ms
                };
            },
            tick : function() {
                var now = (new Date()).getTime(), expired = [], cnt = 0, amount = 0;

                if (this.counts)
                    for (var idx = 0, n = this.counts.length; idx < n; ++idx) {
                        cnt = this.counts[idx];
                        amount = cnt.d.getTime() - now;
                        //calc milliseconds between dates

                        // if time is already past
                        if (amount < 0) {
                            expired.push(idx);
                        }
                        // date is still good
                        else {
                            this.display(cnt, this.format(this.math(amount)));
                        }
                    }

                // deal with any expired
                if (expired.length > 0)
                    this.expire(expired);

                // if no active counts, stop updating
                if (this.counts.length == 0)
                    window.clearTimeout(this.interval);

            },
            display : function(cnt, msg) {
                document.getElementById(cnt.id).innerHTML = msg;
            }
        };

        window.onload = function() {
            var cdown = new CDown();

            cdown.add(new Date(2015, 10, 10, 15, 43, 30), "countbox1");
        };
    </script>
{% endblock %}